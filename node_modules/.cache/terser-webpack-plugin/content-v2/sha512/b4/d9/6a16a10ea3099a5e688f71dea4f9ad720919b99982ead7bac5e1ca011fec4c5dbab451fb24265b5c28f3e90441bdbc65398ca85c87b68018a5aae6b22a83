{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CraftingMethod\",(function(){return r})),n.d(t,\"CraftingRequirement\",(function(){return i})),n.d(t,\"CraftingItem\",(function(){return a})),n.d(t,\"CraftingItemOutput\",(function(){return o}));class r{constructor(e,t){this.itemQuantity=e,this.crafts=t}}class i{constructor(e,t){this.craftingItem=e,this.quantity=t}toString(){this.craftingItem.name,this.quantity}}class a{constructor(e,t,n,r,i,a=null){this.name=e,this.craftingTime=t,this.baseCost=n,this.rarity=r,this.sortingOrder=i,this.craftingRequirements=a}toString(){for(var e=\"\",t=0;t<this.craftingRequirements.length;t++)e+=this.craftingRequirements[t].craftingItem.name+\" : \"+this.craftingRequirements[t].quantity+\" \";return this.name+\", \"+this.craftingTime+\"minutes, \"+this.baseCost+\"coins. Crafting Requirement: \"+e}}class o{constructor(e,t,n,r,i,a){this.name=e,this.craftingTime=t,this.baseCost=n,this.rarity=r,this.quantity=i,this.sortingOrder=a}getRarityValue(){switch(this.rarity){case rarity.HIDDEN:return 0;case rarity.RAW:return 1;default:case rarity.COMMON:return 2;case rarity.RARE:return 3;case rarity.EPIC:return 4;case rarity.LEGENDARY:return 5}}getCraftingMethod(e){var t=1;if(this.craftingTime<e&&(t=Math.floor(e/this.craftingTime)),t>this.quantity)return t=this.quantity,[new r(1,this.quantity)];if(1===t)return[new r(this.quantity,1)];for(var n=Math.ceil(this.quantity/t),i=n-1,a=1;a<=t;a++){if(n*a+i*(t-a)===this.quantity)return[new r(n,a),new r(i,t-a)]}return[]}getCost(e){for(var t=0,n=0;n<e.length;n++)t+=this.baseCost/4*(Math.pow(e[n].itemQuantity,2)+3*e[n].itemQuantity)*e[n].crafts;return t}}},,function(e,t,n){n(0),n(3),e.exports=n(4)},function(e,t,n){\"use strict\";function r(e,t=1){if(null!==e.craftingRequirements){for(var n=0;n<e.craftingRequirements.length;n++){var i=e.craftingRequirements[n].craftingItem.name,a=e.craftingRequirements[n].quantity*t;if(void 0===currentCraft.get(i)){r(craftingRecipes.get(i),a),currentCraft.set(i,a)}else{r(craftingRecipes.get(i),a);var o=currentCraft.get(i);currentCraft.set(i,o+a)}}return currentCraft}}n.r(t),n.d(t,\"getCraftingRequirements\",(function(){return r}))},function(e,t,n){\"use strict\";n.r(t);var r=n(0),i=new Map,a=new Map,o=100,u=\"hidden\",m=\"raw\",s=\"common\",c=\"rare\",f=\"epic\",g=\"legendary\";const l=new r.CraftingItem(\"Cotton\",0,0,m,1),d=new r.CraftingItem(\"Log\",0,0,m,2),C=new r.CraftingItem(\"Rock\",0,0,m,3),w=new r.CraftingItem(\"Quartz\",0,0,m,4);i.set(l.name,l),i.set(d.name,d),i.set(C.name,C),i.set(w.name,w);var h=[new r.CraftingRequirement(l,3)];const p=new r.CraftingItem(\"String\",5,50,s,5,h);i.set(p.name,p);var v=[new r.CraftingRequirement(d,3)];const y=new r.CraftingItem(\"Wood\",5,50,s,6,v);i.set(y.name,y);var q=[new r.CraftingRequirement(p,2),new r.CraftingRequirement(y,2)];const R=new r.CraftingItem(\"Ribbon\",15,100,c,7,q);i.set(R.name,R);var I=[new r.CraftingRequirement(C,3)];const b=new r.CraftingItem(\"Metal\",15,100,s,8,I);i.set(b.name,b);var T=[new r.CraftingRequirement(b,4),new r.CraftingRequirement(R,1)];const E=new r.CraftingItem(\"Needles\",30,200,c,9,T);i.set(E.name,E);var M=[new r.CraftingRequirement(E,2),new r.CraftingRequirement(R,2)];const N=new r.CraftingItem(\"Sparkles\",60,300,f,10,M);i.set(N.name,N);var O=[new r.CraftingRequirement(C,4)];const S=new r.CraftingItem(\"Bronze\",30,200,s,11,O);i.set(S.name,S);var x=[new r.CraftingRequirement(S,3),new r.CraftingRequirement(N,1)];const B=new r.CraftingItem(\"Silver\",120,300,c,12,x);i.set(B.name,B);var A=[new r.CraftingRequirement(B,2),new r.CraftingRequirement(N,2)];const L=new r.CraftingItem(\"Gold\",360,500,f,13,A);i.set(L.name,L);var j=[new r.CraftingRequirement(w,10)];const P=new r.CraftingItem(\"Amethyst\",60,300,s,14,j);i.set(P.name,P);var k=[new r.CraftingRequirement(P,7),new r.CraftingRequirement(B,2)];const _=new r.CraftingItem(\"Pendant\",180,500,c,15,k);i.set(_.name,_);var D=[new r.CraftingRequirement(_,3),new r.CraftingRequirement(L,2)];const H=new r.CraftingItem(\"Necklace\",760,500,f,16,D);i.set(H.name,H);var Q=[new r.CraftingRequirement(w,20)];const F=new r.CraftingItem(\"Orb\",60,300,s,17,Q);i.set(F.name,F);var W=[new r.CraftingRequirement(F,2),new r.CraftingRequirement(B,1)];const z=new r.CraftingItem(\"Water\",360,800,c,18,W);i.set(z.name,z);var G=[new r.CraftingRequirement(F,6),new r.CraftingRequirement(L,1)];const V=new r.CraftingItem(\"Fire\",720,1e3,f,19,G);i.set(V.name,V);var U=[new r.CraftingRequirement(z,2),new r.CraftingRequirement(R,10)];const Y=new r.CraftingItem(\"Waterstone\",720,1500,c,20,U);i.set(Y.name,Y);var J=[new r.CraftingRequirement(V,1),new r.CraftingRequirement(N,2)];const K=new r.CraftingItem(\"Firestone\",720,1500,f,21,J);i.set(K.name,K);var X=[new r.CraftingRequirement(K,1),new r.CraftingRequirement(Y,1)];const Z=new r.CraftingItem(\"Elementstone\",1440,5e3,g,22,X);i.set(Z.name,Z);var $=[new r.CraftingRequirement(Z,1),new r.CraftingRequirement(H,1)];const ee=new r.CraftingItem(\"Artifact\",4320,1e4,g,23,$);function te(){var e=document.createElement(\"table\"),t=document.querySelectorAll(\"#outputTable tr th:not(:first-child)\"),n=document.createElement(\"thead\");e.appendChild(n);var r=document.createElement(\"tr\");n.appendChild(r);for(var i=0;i<t.length;i++){var a=t[i].cloneNode(!0);r.appendChild(a)}n.appendChild(r);var o=document.querySelectorAll(\"#outputTable tr td:not(:first-child)\"),u=document.createElement(\"tbody\");for(r=document.createElement(\"tr\"),i=0;i<o.length;i++){a=o[i].cloneNode(!0);r.appendChild(o[i].cloneNode(!0)),i%4==3&&0!==i&&(u.appendChild(r),r=document.createElement(\"tr\"))}e.appendChild(u);var m=document.createElement(\"div\");m.style=\"position: absolute; top: -9999999px; opacity: 0;\",m.appendChild(e),document.body.appendChild(m);var s=document.createRange();s.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(s),document.execCommand(\"copy\"),document.body.removeChild(m)}function ne(){for(const n of i.entries()){var e=i.get(n[0]),t=document.getElementById(e.name.toLowerCase()+\"Amount\");null!==t&&(t.value=0)}}function re(){if((new Date).getTime()<o+1e3)return void console.log(\"Calculate is on cooldown\");o=(new Date).getTime();var e=parseInt(document.getElementById(\"userTimeHours\").value),t=parseInt(document.getElementById(\"userTimeMinutes\").value),n=0;if(isNaN(e)||(n+=60*e),isNaN(t)||(n+=t),n<=0)return;var m=[];for(const e of i.entries()){var s=i.get(e[0]),c=document.getElementById(s.name.toLowerCase()+\"Amount\");if(null!==c){var f=parseInt(c.value);f>0&&m.push(new r.CraftingRequirement(s,f))}}const g=new r.CraftingItem(\"UserItem\",0,0,u,1e3,m);i.set(g.name,g);for(var l=function e(t,n=1){if(null!==t.craftingRequirements){for(var r=0;r<t.craftingRequirements.length;r++){var o=t.craftingRequirements[r].craftingItem.name,u=t.craftingRequirements[r].quantity*n;if(void 0===a.get(o)){e(i.get(o),u),a.set(o,u)}else{e(i.get(o),u);var m=a.get(o);a.set(o,m+u)}}return a}}(g,1),d=Array.from(l),C=[],w=0;w<d.length;w++){if((s=i.get(d[w][0])).rarity!==u){var h=d[w][1];C.push(new r.CraftingItemOutput(s.name,s.craftingTime,s.baseCost,s.rarity,h,s.sortingOrder))}}C.sort((function(e,t){return e.sortingOrder-t.sortingOrder})),document.getElementById(\"outputTable\").getElementsByTagName(\"tbody\")[0].innerHTML=\"\";var p=0;for(w=0;w<C.length;w++){document.createElement(\"tr\");var v=(s=C[w]).getCraftingMethod(n),y=s.getCost(v);ie(s,y,v,n),p+=y}var q=document.getElementById(\"outputTotalCost\");q.innerHTML=\"\";var R=document.createElement(\"p\");R.innerText=\"Total cost: \"+p.toLocaleString(),q.appendChild(R);var I=document.getElementById(\"outputTotalTime\");I.innerHTML=\"\";var b=Math.floor(n/60);b=1==b.toString().length?\"0\"+b:b;var T=n%60;T=1==T.toString().length?\"0\"+T:T,I.innerText=\"Time to craft: \"+b+\":\"+T,document.getElementById(\"outputContainer\").scrollIntoView(),a.clear(),i.delete(g.name)}function ie(e,t,n,r){var i=document.getElementById(\"outputTable\").getElementsByTagName(\"tbody\")[0].insertRow(),a=i.insertCell(0),o=document.createElement(\"img\");o.src=\"images/game/\"+e.name.toLowerCase()+\".jpg\",a.appendChild(o);var u=i.insertCell(1),s=document.createTextNode(e.name);u.appendChild(s);var c=i.insertCell(2),f=document.createTextNode(e.quantity);c.appendChild(f);var g,l,d,C=i.insertCell(3),w=document.createTextNode((g=t,l=Math.floor((\"\"+g).length/3),(d=parseFloat((0!=l?g/Math.pow(1e3,l):g).toPrecision(2)))%1!=0&&(d=d.toFixed(1)),d+[\"\",\"k\",\"m\",\"b\",\"t\"][l]));C.appendChild(w);var h=\"\";if(e.rarity!==m){for(var p=0;p<n.length;p++)0!==n[p].crafts&&(h+=\"Craft: \"+n[p].itemQuantity+\"x, \"+n[p].crafts+\" times & \");h=h.substring(0,h.length-3)}else h=\"None\";var v=i.insertCell(4),y=document.createTextNode(h);v.appendChild(y)}i.set(ee.name,ee),window.onload=function(){document.getElementById(\"calculate\").onclick=re,document.getElementById(\"clear\").onclick=ne,document.getElementById(\"copyClipboard\").onclick=te}}]);","extractedComments":[]}