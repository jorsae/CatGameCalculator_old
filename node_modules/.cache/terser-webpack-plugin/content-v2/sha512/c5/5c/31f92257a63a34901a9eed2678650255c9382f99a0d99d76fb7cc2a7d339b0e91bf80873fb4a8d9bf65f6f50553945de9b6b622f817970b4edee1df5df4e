{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([,function(e,t){var n=new Map,r=new Map,a=100,o=\"hidden\",i=\"raw\",s=\"common\",l=\"rare\",c=\"epic\",u=\"legendary\";class m{constructor(e,t){this.itemQuantity=e,this.crafts=t}}class d{constructor(e,t){this.craftingItem=e,this.quantity=t}toString(){this.craftingItem.name,this.quantity}}class g{constructor(e,t,n,r,a,o=null){this.name=e,this.craftingTime=t,this.baseCost=n,this.rarity=r,this.sortingOrder=a,this.craftingRequirements=o}toString(){for(var e=\"\",t=0;t<this.craftingRequirements.length;t++)e+=this.craftingRequirements[t].craftingItem.name+\" : \"+this.craftingRequirements[t].quantity+\" \";return this.name+\", \"+this.craftingTime+\"minutes, \"+this.baseCost+\"coins. Crafting Requirement: \"+e}}class f{constructor(e,t,n,r,a,o){this.name=e,this.craftingTime=t,this.baseCost=n,this.rarity=r,this.quantity=a,this.sortingOrder=o}getRarityValue(){switch(this.rarity){case o:return 0;case i:return 1;default:case s:return 2;case l:return 3;case c:return 4;case u:return 5}}getCraftingMethod(e){var t=1;if(this.craftingTime<e&&(t=Math.floor(e/this.craftingTime)),t>this.quantity)return t=this.quantity,[new m(1,this.quantity)];if(1===t)return[new m(this.quantity,1)];for(var n=Math.ceil(this.quantity/t),r=n-1,a=1;a<=t;a++){if(n*a+r*(t-a)===this.quantity)return[new m(n,a),new m(r,t-a)]}return[]}getCost(e){for(var t=0,n=0;n<e.length;n++)t+=this.baseCost/4*(Math.pow(e[n].itemQuantity,2)+3*e[n].itemQuantity)*e[n].crafts;return t}}cotton=new g(\"Cotton\",0,0,i,1),log=new g(\"Log\",0,0,i,2),rock=new g(\"Rock\",0,0,i,3),quartz=new g(\"Quartz\",0,0,i,4),n.set(cotton.name,cotton),n.set(log.name,log),n.set(rock.name,rock),n.set(quartz.name,quartz);var w=[new d(cotton,3)];string=new g(\"String\",5,50,s,5,w),n.set(string.name,string);var h=[new d(log,3)];wood=new g(\"Wood\",5,50,s,6,h),n.set(wood.name,wood);var p=[new d(string,2),new d(wood,2)];ribbon=new g(\"Ribbon\",15,100,l,7,p),n.set(ribbon.name,ribbon);var v=[new d(rock,3)];metal=new g(\"Metal\",15,100,s,8,v),n.set(metal.name,metal);var y=[new d(metal,4),new d(ribbon,1)];needles=new g(\"Needles\",30,200,l,9,y),n.set(needles.name,needles);var b=[new d(needles,2),new d(ribbon,2)];sparkles=new g(\"Sparkles\",60,300,c,10,b),n.set(sparkles.name,sparkles);var C=[new d(rock,4)];bronze=new g(\"Bronze\",30,200,s,11,C),n.set(bronze.name,bronze);var T=[new d(bronze,3),new d(sparkles,1)];silver=new g(\"Silver\",120,300,l,12,T),n.set(silver.name,silver);var q=[new d(silver,2),new d(sparkles,2)];gold=new g(\"Gold\",360,500,c,13,q),n.set(gold.name,gold);var I=[new d(quartz,10)];amethyst=new g(\"Amethyst\",60,300,s,14,I),n.set(amethyst.name,amethyst);var E=[new d(amethyst,7),new d(silver,2)];pendant=new g(\"Pendant\",180,500,l,15,E),n.set(pendant.name,pendant);var k=[new d(pendant,3),new d(gold,2)];necklace=new g(\"Necklace\",760,500,c,16,k),n.set(necklace.name,necklace);var M=[new d(quartz,20)];orb=new g(\"Orb\",60,300,s,17,M),n.set(orb.name,orb);var N=[new d(orb,2),new d(silver,1)];water=new g(\"Water\",360,800,l,18,N),n.set(water.name,water);var S=[new d(orb,6),new d(gold,1)];fire=new g(\"Fire\",720,1e3,c,19,S),n.set(fire.name,fire);var R=[new d(water,2),new d(ribbon,10)];waterstone=new g(\"Waterstone\",720,1500,l,20,R),n.set(waterstone.name,waterstone);var x=[new d(fire,1),new d(sparkles,2)];firestone=new g(\"Firestone\",720,1500,c,21,x),n.set(firestone.name,firestone);var B=[new d(firestone,1),new d(waterstone,1)];elementstone=new g(\"Elementstone\",1440,5e3,u,22,B),n.set(elementstone.name,elementstone);var O=[new d(elementstone,1),new d(necklace,1)];function z(){var e=document.createElement(\"table\"),t=document.querySelectorAll(\"#outputTable tr th:not(:first-child)\"),n=document.createElement(\"thead\");e.appendChild(n);var r=document.createElement(\"tr\");n.appendChild(r);for(var a=0;a<t.length;a++){var o=t[a].cloneNode(!0);r.appendChild(o)}n.appendChild(r);var i=document.querySelectorAll(\"#outputTable tr td:not(:first-child)\"),s=document.createElement(\"tbody\");for(r=document.createElement(\"tr\"),a=0;a<i.length;a++){o=i[a].cloneNode(!0);r.appendChild(i[a].cloneNode(!0)),a%4==3&&0!==a&&(s.appendChild(r),r=document.createElement(\"tr\"))}e.appendChild(s);var l=document.createElement(\"div\");l.style=\"position: absolute; top: -9999999px; opacity: 0;\",l.appendChild(e),document.body.appendChild(l);var c=document.createRange();c.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(c),document.execCommand(\"copy\"),document.body.removeChild(l)}function j(){for(const r of n.entries()){var e=n.get(r[0]),t=document.getElementById(e.name.toLowerCase()+\"Amount\");null!==t&&(t.value=0)}}function A(){if((new Date).getTime()<a+1e3)console.log(\"Calculate is on cooldown\");else{a=(new Date).getTime();var e=parseInt(document.getElementById(\"userTimeHours\").value),t=parseInt(document.getElementById(\"userTimeMinutes\").value),i=0;if(isNaN(e)||(i+=60*e),isNaN(t)||(i+=t),!(i<=0)){var s=[];for(const e of n.entries()){var l=n.get(e[0]),c=document.getElementById(l.name.toLowerCase()+\"Amount\");if(null!==c){var u=parseInt(c.value);u>0&&s.push(new d(l,u))}}userItem=new g(\"UserItem\",0,0,o,1e3,s),n.set(userItem.name,userItem);for(var m=function e(t,a=1){if(null!==t.craftingRequirements){for(var o=0;o<t.craftingRequirements.length;o++){var i=t.craftingRequirements[o].craftingItem.name,s=t.craftingRequirements[o].quantity*a;if(void 0===r.get(i)){e(n.get(i),s),r.set(i,s)}else{e(n.get(i),s);var l=r.get(i);r.set(i,l+s)}}return r}}(userItem,1),w=Array.from(m),h=[],p=0;p<w.length;p++){if((l=n.get(w[p][0])).rarity!==o){var v=w[p][1];h.push(new f(l.name,l.craftingTime,l.baseCost,l.rarity,v,l.sortingOrder))}}h.sort((function(e,t){return e.sortingOrder-t.sortingOrder})),document.getElementById(\"outputTable\").getElementsByTagName(\"tbody\")[0].innerHTML=\"\";var y=0;for(p=0;p<h.length;p++){document.createElement(\"tr\");var b=(l=h[p]).getCraftingMethod(i),C=l.getCost(b);L(l,C,b,i),y+=C}var T=document.getElementById(\"outputTotalCost\");T.innerHTML=\"\";var q=document.createElement(\"p\");q.innerText=\"Total cost: \"+y.toLocaleString(),T.appendChild(q);var I=document.getElementById(\"outputTotalTime\");I.innerHTML=\"\";var E=Math.floor(i/60);E=1==E.toString().length?\"0\"+E:E;var k=i%60;k=1==k.toString().length?\"0\"+k:k,I.innerText=\"Time to craft: \"+E+\":\"+k,document.getElementById(\"outputContainer\").scrollIntoView(),r.clear(),n.delete(userItem.name)}}}function L(e,t,n,r){var a=document.getElementById(\"outputTable\").getElementsByTagName(\"tbody\")[0].insertRow(),o=a.insertCell(0),s=document.createElement(\"img\");s.src=\"images/game/\"+e.name.toLowerCase()+\".jpg\",o.appendChild(s);var l=a.insertCell(1),c=document.createTextNode(e.name);l.appendChild(c);var u=a.insertCell(2),m=document.createTextNode(e.quantity);u.appendChild(m);var d,g,f,w=a.insertCell(3),h=document.createTextNode((d=t,g=Math.floor((\"\"+d).length/3),(f=parseFloat((0!=g?d/Math.pow(1e3,g):d).toPrecision(2)))%1!=0&&(f=f.toFixed(1)),f+[\"\",\"k\",\"m\",\"b\",\"t\"][g]));w.appendChild(h);var p=\"\";if(e.rarity!==i){for(var v=0;v<n.length;v++)0!==n[v].crafts&&(p+=\"Craft: \"+n[v].itemQuantity+\"x, \"+n[v].crafts+\" times & \");p=p.substring(0,p.length-3)}else p=\"None\";var y=a.insertCell(4),b=document.createTextNode(p);y.appendChild(b)}artifact=new g(\"Artifact\",4320,1e4,u,23,O),n.set(artifact.name,artifact),window.onload=function(){document.getElementById(\"calculate\").onclick=A,document.getElementById(\"clear\").onclick=j,document.getElementById(\"copyClipboard\").onclick=z}}]);","extractedComments":[]}