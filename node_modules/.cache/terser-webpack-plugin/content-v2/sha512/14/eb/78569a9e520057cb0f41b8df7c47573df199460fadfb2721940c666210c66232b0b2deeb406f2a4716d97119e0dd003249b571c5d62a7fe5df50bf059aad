{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CraftingMethod\",(function(){return r})),n.d(t,\"CraftingRequirement\",(function(){return a})),n.d(t,\"CraftingItem\",(function(){return i})),n.d(t,\"CraftingItemOutput\",(function(){return o}));class r{constructor(e,t){this.itemQuantity=e,this.crafts=t}}class a{constructor(e,t){this.craftingItem=e,this.quantity=t}toString(){this.craftingItem.name,this.quantity}}class i{constructor(e,t,n,r,a,i=null){this.name=e,this.craftingTime=t,this.baseCost=n,this.rarity=r,this.sortingOrder=a,this.craftingRequirements=i}toString(){for(var e=\"\",t=0;t<this.craftingRequirements.length;t++)e+=this.craftingRequirements[t].craftingItem.name+\" : \"+this.craftingRequirements[t].quantity+\" \";return this.name+\", \"+this.craftingTime+\"minutes, \"+this.baseCost+\"coins. Crafting Requirement: \"+e}}class o{constructor(e,t,n,r,a,i){this.name=e,this.craftingTime=t,this.baseCost=n,this.rarity=r,this.quantity=a,this.sortingOrder=i}getRarityValue(){switch(this.rarity){case rarity.HIDDEN:return 0;case rarity.RAW:return 1;default:case rarity.COMMON:return 2;case rarity.RARE:return 3;case rarity.EPIC:return 4;case rarity.LEGENDARY:return 5}}getCraftingMethod(e){var t=1;if(this.craftingTime<e&&(t=Math.floor(e/this.craftingTime)),t>this.quantity)return t=this.quantity,[new r(1,this.quantity)];if(1===t)return[new r(this.quantity,1)];for(var n=Math.ceil(this.quantity/t),a=n-1,i=1;i<=t;i++){if(n*i+a*(t-i)===this.quantity)return[new r(n,i),new r(a,t-i)]}return[]}getCost(e){for(var t=0,n=0;n<e.length;n++)t+=this.baseCost/4*(Math.pow(e[n].itemQuantity,2)+3*e[n].itemQuantity)*e[n].crafts;return t}}},,function(e,t,n){n(0),e.exports=n(3)},function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=new Map,i=new Map,o=100,s=\"hidden\",m=\"raw\",u=\"common\",l=\"rare\",c=\"epic\",f=\"legendary\";cotton=new r.CraftingItem(\"Cotton\",0,0,m,1),log=new r.CraftingItem(\"Log\",0,0,m,2),rock=new r.CraftingItem(\"Rock\",0,0,m,3),quartz=new r.CraftingItem(\"Quartz\",0,0,m,4),a.set(cotton.name,cotton),a.set(log.name,log),a.set(rock.name,rock),a.set(quartz.name,quartz);var g=[new r.CraftingRequirement(cotton,3)];string=new r.CraftingItem(\"String\",5,50,u,5,g),a.set(string.name,string);var d=[new r.CraftingRequirement(log,3)];wood=new r.CraftingItem(\"Wood\",5,50,u,6,d),a.set(wood.name,wood);var C=[new r.CraftingRequirement(string,2),new r.CraftingRequirement(wood,2)];ribbon=new r.CraftingItem(\"Ribbon\",15,100,l,7,C),a.set(ribbon.name,ribbon);var w=[new r.CraftingRequirement(rock,3)];metal=new r.CraftingItem(\"Metal\",15,100,u,8,w),a.set(metal.name,metal);var p=[new r.CraftingRequirement(metal,4),new r.CraftingRequirement(ribbon,1)];needles=new r.CraftingItem(\"Needles\",30,200,l,9,p),a.set(needles.name,needles);var h=[new r.CraftingRequirement(needles,2),new r.CraftingRequirement(ribbon,2)];sparkles=new r.CraftingItem(\"Sparkles\",60,300,c,10,h),a.set(sparkles.name,sparkles);var v=[new r.CraftingRequirement(rock,4)];bronze=new r.CraftingItem(\"Bronze\",30,200,u,11,v),a.set(bronze.name,bronze);var y=[new r.CraftingRequirement(bronze,3),new r.CraftingRequirement(sparkles,1)];silver=new r.CraftingItem(\"Silver\",120,300,l,12,y),a.set(silver.name,silver);var q=[new r.CraftingRequirement(silver,2),new r.CraftingRequirement(sparkles,2)];gold=new r.CraftingItem(\"Gold\",360,500,c,13,q),a.set(gold.name,gold);var b=[new r.CraftingRequirement(quartz,10)];amethyst=new r.CraftingItem(\"Amethyst\",60,300,u,14,b),a.set(amethyst.name,amethyst);var I=[new r.CraftingRequirement(amethyst,7),new r.CraftingRequirement(silver,2)];pendant=new r.CraftingItem(\"Pendant\",180,500,l,15,I),a.set(pendant.name,pendant);var R=[new r.CraftingRequirement(pendant,3),new r.CraftingRequirement(gold,2)];necklace=new r.CraftingItem(\"Necklace\",760,500,c,16,R),a.set(necklace.name,necklace);var T=[new r.CraftingRequirement(quartz,20)];orb=new r.CraftingItem(\"Orb\",60,300,u,17,T),a.set(orb.name,orb);var E=[new r.CraftingRequirement(orb,2),new r.CraftingRequirement(silver,1)];water=new r.CraftingItem(\"Water\",360,800,l,18,E),a.set(water.name,water);var k=[new r.CraftingRequirement(orb,6),new r.CraftingRequirement(gold,1)];fire=new r.CraftingItem(\"Fire\",720,1e3,c,19,k),a.set(fire.name,fire);var M=[new r.CraftingRequirement(water,2),new r.CraftingRequirement(ribbon,10)];waterstone=new r.CraftingItem(\"Waterstone\",720,1500,l,20,M),a.set(waterstone.name,waterstone);var N=[new r.CraftingRequirement(fire,1),new r.CraftingRequirement(sparkles,2)];firestone=new r.CraftingItem(\"Firestone\",720,1500,c,21,N),a.set(firestone.name,firestone);var O=[new r.CraftingRequirement(firestone,1),new r.CraftingRequirement(waterstone,1)];elementstone=new r.CraftingItem(\"Elementstone\",1440,5e3,f,22,O),a.set(elementstone.name,elementstone);var S=[new r.CraftingRequirement(elementstone,1),new r.CraftingRequirement(necklace,1)];function x(){var e=document.createElement(\"table\"),t=document.querySelectorAll(\"#outputTable tr th:not(:first-child)\"),n=document.createElement(\"thead\");e.appendChild(n);var r=document.createElement(\"tr\");n.appendChild(r);for(var a=0;a<t.length;a++){var i=t[a].cloneNode(!0);r.appendChild(i)}n.appendChild(r);var o=document.querySelectorAll(\"#outputTable tr td:not(:first-child)\"),s=document.createElement(\"tbody\");for(r=document.createElement(\"tr\"),a=0;a<o.length;a++){i=o[a].cloneNode(!0);r.appendChild(o[a].cloneNode(!0)),a%4==3&&0!==a&&(s.appendChild(r),r=document.createElement(\"tr\"))}e.appendChild(s);var m=document.createElement(\"div\");m.style=\"position: absolute; top: -9999999px; opacity: 0;\",m.appendChild(e),document.body.appendChild(m);var u=document.createRange();u.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(u),document.execCommand(\"copy\"),document.body.removeChild(m)}function B(){for(const n of a.entries()){var e=a.get(n[0]),t=document.getElementById(e.name.toLowerCase()+\"Amount\");null!==t&&(t.value=0)}}function z(){if((new Date).getTime()<o+1e3)console.log(\"Calculate is on cooldown\");else{o=(new Date).getTime();var e=parseInt(document.getElementById(\"userTimeHours\").value),t=parseInt(document.getElementById(\"userTimeMinutes\").value),n=0;if(isNaN(e)||(n+=60*e),isNaN(t)||(n+=t),!(n<=0)){var m=[];for(const e of a.entries()){var u=a.get(e[0]),l=document.getElementById(u.name.toLowerCase()+\"Amount\");if(null!==l){var c=parseInt(l.value);c>0&&m.push(new r.CraftingRequirement(u,c))}}userItem=new r.CraftingItem(\"UserItem\",0,0,s,1e3,m),a.set(userItem.name,userItem);for(var f=function e(t,n=1){if(null!==t.craftingRequirements){for(var r=0;r<t.craftingRequirements.length;r++){var o=t.craftingRequirements[r].craftingItem.name,s=t.craftingRequirements[r].quantity*n;if(void 0===i.get(o)){e(a.get(o),s),i.set(o,s)}else{e(a.get(o),s);var m=i.get(o);i.set(o,m+s)}}return i}}(userItem,1),g=Array.from(f),d=[],C=0;C<g.length;C++){if((u=a.get(g[C][0])).rarity!==s){var w=g[C][1];d.push(new r.CraftingItemOutput(u.name,u.craftingTime,u.baseCost,u.rarity,w,u.sortingOrder))}}d.sort((function(e,t){return e.sortingOrder-t.sortingOrder})),document.getElementById(\"outputTable\").getElementsByTagName(\"tbody\")[0].innerHTML=\"\";var p=0;for(C=0;C<d.length;C++){document.createElement(\"tr\");var h=(u=d[C]).getCraftingMethod(n),v=u.getCost(h);A(u,v,h,n),p+=v}var y=document.getElementById(\"outputTotalCost\");y.innerHTML=\"\";var q=document.createElement(\"p\");q.innerText=\"Total cost: \"+p.toLocaleString(),y.appendChild(q);var b=document.getElementById(\"outputTotalTime\");b.innerHTML=\"\";var I=Math.floor(n/60);I=1==I.toString().length?\"0\"+I:I;var R=n%60;R=1==R.toString().length?\"0\"+R:R,b.innerText=\"Time to craft: \"+I+\":\"+R,document.getElementById(\"outputContainer\").scrollIntoView(),i.clear(),a.delete(userItem.name)}}}function A(e,t,n,r){var a=document.getElementById(\"outputTable\").getElementsByTagName(\"tbody\")[0].insertRow(),i=a.insertCell(0),o=document.createElement(\"img\");o.src=\"images/game/\"+e.name.toLowerCase()+\".jpg\",i.appendChild(o);var s=a.insertCell(1),u=document.createTextNode(e.name);s.appendChild(u);var l=a.insertCell(2),c=document.createTextNode(e.quantity);l.appendChild(c);var f,g,d,C=a.insertCell(3),w=document.createTextNode((f=t,g=Math.floor((\"\"+f).length/3),(d=parseFloat((0!=g?f/Math.pow(1e3,g):f).toPrecision(2)))%1!=0&&(d=d.toFixed(1)),d+[\"\",\"k\",\"m\",\"b\",\"t\"][g]));C.appendChild(w);var p=\"\";if(e.rarity!==m){for(var h=0;h<n.length;h++)0!==n[h].crafts&&(p+=\"Craft: \"+n[h].itemQuantity+\"x, \"+n[h].crafts+\" times & \");p=p.substring(0,p.length-3)}else p=\"None\";var v=a.insertCell(4),y=document.createTextNode(p);v.appendChild(y)}artifact=new r.CraftingItem(\"Artifact\",4320,1e4,f,23,S),a.set(artifact.name,artifact),window.onload=function(){document.getElementById(\"calculate\").onclick=z,document.getElementById(\"clear\").onclick=B,document.getElementById(\"copyClipboard\").onclick=x}}]);","extractedComments":[]}