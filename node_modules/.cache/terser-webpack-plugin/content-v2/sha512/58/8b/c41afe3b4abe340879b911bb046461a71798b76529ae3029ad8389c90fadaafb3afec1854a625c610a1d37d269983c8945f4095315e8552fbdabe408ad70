{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=5)}([function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CraftingMethod\",(function(){return r})),n.d(t,\"CraftingRequirement\",(function(){return i})),n.d(t,\"CraftingItem\",(function(){return a})),n.d(t,\"CraftingItemOutput\",(function(){return c}));class r{constructor(e,t){this.itemQuantity=e,this.crafts=t}}class i{constructor(e,t){this.craftingItem=e,this.quantity=t}toString(){this.craftingItem.name,this.quantity}}class a{constructor(e,t,n,r,i,a=null){this.name=e,this.craftingTime=t,this.baseCost=n,this.rarity=r,this.sortingOrder=i,this.craftingRequirements=a}toString(){for(var e=\"\",t=0;t<this.craftingRequirements.length;t++)e+=this.craftingRequirements[t].craftingItem.name+\" : \"+this.craftingRequirements[t].quantity+\" \";return this.name+\", \"+this.craftingTime+\"minutes, \"+this.baseCost+\"coins. Crafting Requirement: \"+e}}class c{constructor(e,t,n,r,i,a){this.name=e,this.craftingTime=t,this.baseCost=n,this.rarity=r,this.quantity=i,this.sortingOrder=a}getRarityValue(){switch(this.rarity){case rarity.HIDDEN:return 0;case rarity.RAW:return 1;default:case rarity.COMMON:return 2;case rarity.RARE:return 3;case rarity.EPIC:return 4;case rarity.LEGENDARY:return 5}}getCraftingMethod(e){var t=1;if(this.craftingTime<e&&(t=Math.floor(e/this.craftingTime)),t>this.quantity)return t=this.quantity,[new r(1,this.quantity)];if(1===t)return[new r(this.quantity,1)];for(var n=Math.ceil(this.quantity/t),i=n-1,a=1;a<=t;a++){if(n*a+i*(t-a)===this.quantity)return[new r(n,a),new r(i,t-a)]}return[]}getCost(e){for(var t=0,n=0;n<e.length;n++)t+=this.baseCost/4*(Math.pow(e[n].itemQuantity,2)+3*e[n].itemQuantity)*e[n].crafts;return t}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"craftingRecipes\",(function(){return r})),n.d(t,\"outputRows\",(function(){return i})),n.d(t,\"currentCraft\",(function(){return a})),n.d(t,\"lastTimeCalculated\",(function(){return c})),n.d(t,\"calculateDelay\",(function(){return o}));var r=new Map,i=4,a=new Map,c=100,o=1e3},,,,function(e,t,n){n(1),n(0),e.exports=n(6)},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(0),r=n(1),i=\"hidden\",a=\"raw\",c=\"common\",o=\"rare\",s=\"epic\",u=\"legendary\";const m=new t.CraftingItem(\"Cotton\",0,0,a,1),f=new t.CraftingItem(\"Log\",0,0,a,2),g=new t.CraftingItem(\"Rock\",0,0,a,3),l=new t.CraftingItem(\"Quartz\",0,0,a,4);r.craftingRecipes.set(m.name,m),r.craftingRecipes.set(f.name,f),r.craftingRecipes.set(g.name,g),r.craftingRecipes.set(l.name,l);var d=[new t.CraftingRequirement(m,3)];const C=new t.CraftingItem(\"String\",5,50,c,5,d);r.craftingRecipes.set(C.name,C);var p=[new t.CraftingRequirement(f,3)];const R=new t.CraftingItem(\"Wood\",5,50,c,6,p);r.craftingRecipes.set(R.name,R);var w=[new t.CraftingRequirement(C,2),new t.CraftingRequirement(R,2)];const h=new t.CraftingItem(\"Ribbon\",15,100,o,7,w);r.craftingRecipes.set(h.name,h);var v=[new t.CraftingRequirement(g,3)];const y=new t.CraftingItem(\"Metal\",15,100,c,8,v);r.craftingRecipes.set(y.name,y);var q=[new t.CraftingRequirement(y,4),new t.CraftingRequirement(h,1)];const I=new t.CraftingItem(\"Needles\",30,200,o,9,q);r.craftingRecipes.set(I.name,I);var b=[new t.CraftingRequirement(I,2),new t.CraftingRequirement(h,2)];const T=new t.CraftingItem(\"Sparkles\",60,300,s,10,b);r.craftingRecipes.set(T.name,T);var E=[new t.CraftingRequirement(g,4)];const M=new t.CraftingItem(\"Bronze\",30,200,c,11,E);r.craftingRecipes.set(M.name,M);var N=[new t.CraftingRequirement(M,3),new t.CraftingRequirement(T,1)];const O=new t.CraftingItem(\"Silver\",120,300,o,12,N);r.craftingRecipes.set(O.name,O);var S=[new t.CraftingRequirement(O,2),new t.CraftingRequirement(T,2)];const x=new t.CraftingItem(\"Gold\",360,500,s,13,S);r.craftingRecipes.set(x.name,x);var B=[new t.CraftingRequirement(l,10)];const A=new t.CraftingItem(\"Amethyst\",60,300,c,14,B);r.craftingRecipes.set(A.name,A);var L=[new t.CraftingRequirement(A,7),new t.CraftingRequirement(O,2)];const D=new t.CraftingItem(\"Pendant\",180,500,o,15,L);r.craftingRecipes.set(D.name,D);var j=[new t.CraftingRequirement(D,3),new t.CraftingRequirement(x,2)];const P=new t.CraftingItem(\"Necklace\",760,500,s,16,j);r.craftingRecipes.set(P.name,P);var _=[new t.CraftingRequirement(l,20)];const k=new t.CraftingItem(\"Orb\",60,300,c,17,_);r.craftingRecipes.set(k.name,k);var F=[new t.CraftingRequirement(k,2),new t.CraftingRequirement(O,1)];const H=new t.CraftingItem(\"Water\",360,800,o,18,F);r.craftingRecipes.set(H.name,H);var Q=[new t.CraftingRequirement(k,6),new t.CraftingRequirement(x,1)];const W=new t.CraftingItem(\"Fire\",720,1e3,s,19,Q);r.craftingRecipes.set(W.name,W);var U=[new t.CraftingRequirement(H,2),new t.CraftingRequirement(h,10)];const z=new t.CraftingItem(\"Waterstone\",720,1500,o,20,U);r.craftingRecipes.set(z.name,z);var G=[new t.CraftingRequirement(W,1),new t.CraftingRequirement(T,2)];const V=new t.CraftingItem(\"Firestone\",720,1500,s,21,G);r.craftingRecipes.set(V.name,V);var Y=[new t.CraftingRequirement(V,1),new t.CraftingRequirement(z,1)];const J=new t.CraftingItem(\"Elementstone\",1440,5e3,u,22,Y);r.craftingRecipes.set(J.name,J);var K=[new t.CraftingRequirement(J,1),new t.CraftingRequirement(P,1)];const X=new t.CraftingItem(\"Artifact\",4320,1e4,u,23,K);function Z(){var e=document.createElement(\"table\"),t=document.querySelectorAll(\"#outputTable tr th:not(:first-child)\"),n=document.createElement(\"thead\");e.appendChild(n);var r=document.createElement(\"tr\");n.appendChild(r);for(var i=0;i<t.length;i++){var a=t[i].cloneNode(!0);r.appendChild(a)}n.appendChild(r);var c=document.querySelectorAll(\"#outputTable tr td:not(:first-child)\"),o=document.createElement(\"tbody\");for(r=document.createElement(\"tr\"),i=0;i<c.length;i++){a=c[i].cloneNode(!0);r.appendChild(c[i].cloneNode(!0)),i%4==3&&0!==i&&(o.appendChild(r),r=document.createElement(\"tr\"))}e.appendChild(o);var s=document.createElement(\"div\");s.style=\"position: absolute; top: -9999999px; opacity: 0;\",s.appendChild(e),document.body.appendChild(s);var u=document.createRange();u.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(u),document.execCommand(\"copy\"),document.body.removeChild(s)}function $(){for(const n of r.craftingRecipes.entries()){var e=r.craftingRecipes.get(n[0]),t=document.getElementById(e.name.toLowerCase()+\"Amount\");null!==t&&(t.value=0)}}function ee(){if((new Date).getTime()<e.lastTimeCalculated+e.calculateDelay)return void console.log(\"Calculate is on cooldown\");lastTimeCalculated=(new Date).getTime();var n=parseInt(document.getElementById(\"userTimeHours\").value),a=parseInt(document.getElementById(\"userTimeMinutes\").value),c=0;if(isNaN(n)||(c+=60*n),isNaN(a)||(c+=a),c<=0)return;var o=[];for(const e of r.craftingRecipes.entries()){var s=r.craftingRecipes.get(e[0]),u=document.getElementById(s.name.toLowerCase()+\"Amount\");if(null!==u){var m=parseInt(u.value);m>0&&o.push(new t.CraftingRequirement(s,m))}}const f=new t.CraftingItem(\"UserItem\",0,0,i,1e3,o);r.craftingRecipes.set(f.name,f);for(var g=function e(t,n=1){if(null!==t.craftingRequirements){for(var i=0;i<t.craftingRequirements.length;i++){var a=t.craftingRequirements[i].craftingItem.name,c=t.craftingRequirements[i].quantity*n;if(void 0===r.currentCraft.get(a)){e(r.craftingRecipes.get(a),c),r.currentCraft.set(a,c)}else{e(r.craftingRecipes.get(a),c);var o=r.currentCraft.get(a);r.currentCraft.set(a,o+c)}}return r.currentCraft}}(f,1),l=Array.from(g),d=[],C=0;C<l.length;C++){if((s=r.craftingRecipes.get(l[C][0])).rarity!==i){var p=l[C][1];d.push(new t.CraftingItemOutput(s.name,s.craftingTime,s.baseCost,s.rarity,p,s.sortingOrder))}}d.sort((function(e,t){return e.sortingOrder-t.sortingOrder})),document.getElementById(\"outputTable\").getElementsByTagName(\"tbody\")[0].innerHTML=\"\";var R=0;for(C=0;C<d.length;C++){document.createElement(\"tr\");var w=(s=d[C]).getCraftingMethod(c),h=s.getCost(w);te(s,h,w,c),R+=h}var v=document.getElementById(\"outputTotalCost\");v.innerHTML=\"\";var y=document.createElement(\"p\");y.innerText=\"Total cost: \"+R.toLocaleString(),v.appendChild(y);var q=document.getElementById(\"outputTotalTime\");q.innerHTML=\"\";var I=Math.floor(c/60);I=1==I.toString().length?\"0\"+I:I;var b=c%60;b=1==b.toString().length?\"0\"+b:b,q.innerText=\"Time to craft: \"+I+\":\"+b,document.getElementById(\"outputContainer\").scrollIntoView(),r.currentCraft.clear(),r.craftingRecipes.delete(f.name)}function te(e,t,n,r){var i=document.getElementById(\"outputTable\").getElementsByTagName(\"tbody\")[0].insertRow(),c=i.insertCell(0),o=document.createElement(\"img\");o.src=\"images/game/\"+e.name.toLowerCase()+\".jpg\",c.appendChild(o);var s=i.insertCell(1),u=document.createTextNode(e.name);s.appendChild(u);var m=i.insertCell(2),f=document.createTextNode(e.quantity);m.appendChild(f);var g,l,d,C=i.insertCell(3),p=document.createTextNode((g=t,l=Math.floor((\"\"+g).length/3),(d=parseFloat((0!=l?g/Math.pow(1e3,l):g).toPrecision(2)))%1!=0&&(d=d.toFixed(1)),d+[\"\",\"k\",\"m\",\"b\",\"t\"][l]));C.appendChild(p);var R=\"\";if(e.rarity!==a){for(var w=0;w<n.length;w++)0!==n[w].crafts&&(R+=\"Craft: \"+n[w].itemQuantity+\"x, \"+n[w].crafts+\" times & \");R=R.substring(0,R.length-3)}else R=\"None\";var h=i.insertCell(4),v=document.createTextNode(R);h.appendChild(v)}r.craftingRecipes.set(X.name,X),window.onload=function(){document.getElementById(\"calculate\").onclick=ee,document.getElementById(\"clear\").onclick=$,document.getElementById(\"copyClipboard\").onclick=Z}}.call(this,n(!function(){var e=new Error(\"Cannot find module 'globals'\");throw e.code=\"MODULE_NOT_FOUND\",e}()))}]);","extractedComments":[]}