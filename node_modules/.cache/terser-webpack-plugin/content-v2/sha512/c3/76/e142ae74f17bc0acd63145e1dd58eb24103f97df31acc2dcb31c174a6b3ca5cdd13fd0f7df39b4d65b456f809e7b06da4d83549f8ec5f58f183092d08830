{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=3)}([function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CraftingMethod\",(function(){return r})),n.d(t,\"CraftingRequirement\",(function(){return a})),n.d(t,\"CraftingItem\",(function(){return i})),n.d(t,\"CraftingItemOutput\",(function(){return o}));class r{constructor(e,t){this.itemQuantity=e,this.crafts=t}}class a{constructor(e,t){this.craftingItem=e,this.quantity=t}toString(){this.craftingItem.name,this.quantity}}class i{constructor(e,t,n,r,a,i=null){this.name=e,this.craftingTime=t,this.baseCost=n,this.rarity=r,this.sortingOrder=a,this.craftingRequirements=i}toString(){for(var e=\"\",t=0;t<this.craftingRequirements.length;t++)e+=this.craftingRequirements[t].craftingItem.name+\" : \"+this.craftingRequirements[t].quantity+\" \";return this.name+\", \"+this.craftingTime+\"minutes, \"+this.baseCost+\"coins. Crafting Requirement: \"+e}}class o{constructor(e,t,n,r,a,i){this.name=e,this.craftingTime=t,this.baseCost=n,this.rarity=r,this.quantity=a,this.sortingOrder=i}getRarityValue(){switch(this.rarity){case rarity.HIDDEN:return 0;case rarity.RAW:return 1;default:case rarity.COMMON:return 2;case rarity.RARE:return 3;case rarity.EPIC:return 4;case rarity.LEGENDARY:return 5}}getCraftingMethod(e){var t=1;if(this.craftingTime<e&&(t=Math.floor(e/this.craftingTime)),t>this.quantity)return t=this.quantity,[new r(1,this.quantity)];if(1===t)return[new r(this.quantity,1)];for(var n=Math.ceil(this.quantity/t),a=n-1,i=1;i<=t;i++){if(n*i+a*(t-i)===this.quantity)return[new r(n,i),new r(a,t-i)]}return[]}getCost(e){for(var t=0,n=0;n<e.length;n++)t+=this.baseCost/4*(Math.pow(e[n].itemQuantity,2)+3*e[n].itemQuantity)*e[n].crafts;return t}}},function(e,t,n){\"use strict\";function r(e,t=1){if(null!==e.craftingRequirements){for(var n=0;n<e.craftingRequirements.length;n++){var a=e.craftingRequirements[n].craftingItem.name,i=e.craftingRequirements[n].quantity*t;if(void 0===currentCraft.get(a)){r(craftingRecipes.get(a),i),currentCraft.set(a,i)}else{r(craftingRecipes.get(a),i);var o=currentCraft.get(a);currentCraft.set(a,o+i)}}return currentCraft}}n.r(t),n.d(t,\"getCraftingRequirements\",(function(){return r}))},,function(e,t,n){n(0),n(1),e.exports=n(4)},function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n(1),i=new Map,o=new Map,u=100,m=\"hidden\",s=\"raw\",c=\"common\",f=\"rare\",l=\"epic\",g=\"legendary\";const d=new r.CraftingItem(\"Cotton\",0,0,s,1),C=new r.CraftingItem(\"Log\",0,0,s,2),w=new r.CraftingItem(\"Rock\",0,0,s,3),h=new r.CraftingItem(\"Quartz\",0,0,s,4);i.set(d.name,d),i.set(C.name,C),i.set(w.name,w),i.set(h.name,h);var p=[new r.CraftingRequirement(d,3)];const v=new r.CraftingItem(\"String\",5,50,c,5,p);i.set(v.name,v);var y=[new r.CraftingRequirement(C,3)];const q=new r.CraftingItem(\"Wood\",5,50,c,6,y);i.set(q.name,q);var R=[new r.CraftingRequirement(v,2),new r.CraftingRequirement(q,2)];const I=new r.CraftingItem(\"Ribbon\",15,100,f,7,R);i.set(I.name,I);var b=[new r.CraftingRequirement(w,3)];const T=new r.CraftingItem(\"Metal\",15,100,c,8,b);i.set(T.name,T);var E=[new r.CraftingRequirement(T,4),new r.CraftingRequirement(I,1)];const M=new r.CraftingItem(\"Needles\",30,200,f,9,E);i.set(M.name,M);var N=[new r.CraftingRequirement(M,2),new r.CraftingRequirement(I,2)];const O=new r.CraftingItem(\"Sparkles\",60,300,l,10,N);i.set(O.name,O);var S=[new r.CraftingRequirement(w,4)];const x=new r.CraftingItem(\"Bronze\",30,200,c,11,S);i.set(x.name,x);var B=[new r.CraftingRequirement(x,3),new r.CraftingRequirement(O,1)];const A=new r.CraftingItem(\"Silver\",120,300,f,12,B);i.set(A.name,A);var j=[new r.CraftingRequirement(A,2),new r.CraftingRequirement(O,2)];const L=new r.CraftingItem(\"Gold\",360,500,l,13,j);i.set(L.name,L);var P=[new r.CraftingRequirement(h,10)];const k=new r.CraftingItem(\"Amethyst\",60,300,c,14,P);i.set(k.name,k);var _=[new r.CraftingRequirement(k,7),new r.CraftingRequirement(A,2)];const D=new r.CraftingItem(\"Pendant\",180,500,f,15,_);i.set(D.name,D);var H=[new r.CraftingRequirement(D,3),new r.CraftingRequirement(L,2)];const Q=new r.CraftingItem(\"Necklace\",760,500,l,16,H);i.set(Q.name,Q);var F=[new r.CraftingRequirement(h,20)];const W=new r.CraftingItem(\"Orb\",60,300,c,17,F);i.set(W.name,W);var z=[new r.CraftingRequirement(W,2),new r.CraftingRequirement(A,1)];const G=new r.CraftingItem(\"Water\",360,800,f,18,z);i.set(G.name,G);var V=[new r.CraftingRequirement(W,6),new r.CraftingRequirement(L,1)];const U=new r.CraftingItem(\"Fire\",720,1e3,l,19,V);i.set(U.name,U);var Y=[new r.CraftingRequirement(G,2),new r.CraftingRequirement(I,10)];const J=new r.CraftingItem(\"Waterstone\",720,1500,f,20,Y);i.set(J.name,J);var K=[new r.CraftingRequirement(U,1),new r.CraftingRequirement(O,2)];const X=new r.CraftingItem(\"Firestone\",720,1500,l,21,K);i.set(X.name,X);var Z=[new r.CraftingRequirement(X,1),new r.CraftingRequirement(J,1)];const $=new r.CraftingItem(\"Elementstone\",1440,5e3,g,22,Z);i.set($.name,$);var ee=[new r.CraftingRequirement($,1),new r.CraftingRequirement(Q,1)];const te=new r.CraftingItem(\"Artifact\",4320,1e4,g,23,ee);function ne(){var e=document.createElement(\"table\"),t=document.querySelectorAll(\"#outputTable tr th:not(:first-child)\"),n=document.createElement(\"thead\");e.appendChild(n);var r=document.createElement(\"tr\");n.appendChild(r);for(var a=0;a<t.length;a++){var i=t[a].cloneNode(!0);r.appendChild(i)}n.appendChild(r);var o=document.querySelectorAll(\"#outputTable tr td:not(:first-child)\"),u=document.createElement(\"tbody\");for(r=document.createElement(\"tr\"),a=0;a<o.length;a++){i=o[a].cloneNode(!0);r.appendChild(o[a].cloneNode(!0)),a%4==3&&0!==a&&(u.appendChild(r),r=document.createElement(\"tr\"))}e.appendChild(u);var m=document.createElement(\"div\");m.style=\"position: absolute; top: -9999999px; opacity: 0;\",m.appendChild(e),document.body.appendChild(m);var s=document.createRange();s.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(s),document.execCommand(\"copy\"),document.body.removeChild(m)}function re(){for(const n of i.entries()){var e=i.get(n[0]),t=document.getElementById(e.name.toLowerCase()+\"Amount\");null!==t&&(t.value=0)}}function ae(){if((new Date).getTime()<u+1e3)return void console.log(\"Calculate is on cooldown\");u=(new Date).getTime();var e=parseInt(document.getElementById(\"userTimeHours\").value),t=parseInt(document.getElementById(\"userTimeMinutes\").value),n=0;if(isNaN(e)||(n+=60*e),isNaN(t)||(n+=t),n<=0)return;var s=[];for(const e of i.entries()){var c=i.get(e[0]),f=document.getElementById(c.name.toLowerCase()+\"Amount\");if(null!==f){var l=parseInt(f.value);l>0&&s.push(new r.CraftingRequirement(c,l))}}const g=new r.CraftingItem(\"UserItem\",0,0,m,1e3,s);i.set(g.name,g);for(var d=Object(a.getCraftingRequirements)(g,1),C=Array.from(d),w=[],h=0;h<C.length;h++){if((c=i.get(C[h][0])).rarity!==m){var p=C[h][1];w.push(new r.CraftingItemOutput(c.name,c.craftingTime,c.baseCost,c.rarity,p,c.sortingOrder))}}w.sort((function(e,t){return e.sortingOrder-t.sortingOrder})),document.getElementById(\"outputTable\").getElementsByTagName(\"tbody\")[0].innerHTML=\"\";var v=0;for(h=0;h<w.length;h++){document.createElement(\"tr\");var y=(c=w[h]).getCraftingMethod(n),q=c.getCost(y);ie(c,q,y,n),v+=q}var R=document.getElementById(\"outputTotalCost\");R.innerHTML=\"\";var I=document.createElement(\"p\");I.innerText=\"Total cost: \"+v.toLocaleString(),R.appendChild(I);var b=document.getElementById(\"outputTotalTime\");b.innerHTML=\"\";var T=Math.floor(n/60);T=1==T.toString().length?\"0\"+T:T;var E=n%60;E=1==E.toString().length?\"0\"+E:E,b.innerText=\"Time to craft: \"+T+\":\"+E,document.getElementById(\"outputContainer\").scrollIntoView(),o.clear(),i.delete(g.name)}function ie(e,t,n,r){var a=document.getElementById(\"outputTable\").getElementsByTagName(\"tbody\")[0].insertRow(),i=a.insertCell(0),o=document.createElement(\"img\");o.src=\"images/game/\"+e.name.toLowerCase()+\".jpg\",i.appendChild(o);var u=a.insertCell(1),m=document.createTextNode(e.name);u.appendChild(m);var c=a.insertCell(2),f=document.createTextNode(e.quantity);c.appendChild(f);var l,g,d,C=a.insertCell(3),w=document.createTextNode((l=t,g=Math.floor((\"\"+l).length/3),(d=parseFloat((0!=g?l/Math.pow(1e3,g):l).toPrecision(2)))%1!=0&&(d=d.toFixed(1)),d+[\"\",\"k\",\"m\",\"b\",\"t\"][g]));C.appendChild(w);var h=\"\";if(e.rarity!==s){for(var p=0;p<n.length;p++)0!==n[p].crafts&&(h+=\"Craft: \"+n[p].itemQuantity+\"x, \"+n[p].crafts+\" times & \");h=h.substring(0,h.length-3)}else h=\"None\";var v=a.insertCell(4),y=document.createTextNode(h);v.appendChild(y)}i.set(te.name,te),window.onload=function(){document.getElementById(\"calculate\").onclick=ae,document.getElementById(\"clear\").onclick=re,document.getElementById(\"copyClipboard\").onclick=ne}}]);","extractedComments":[]}